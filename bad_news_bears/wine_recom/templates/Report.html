{% block content %}
<script src="https://cdn.flexmonster.com/flexmonster.js"></script>
<div id="pivot"></div>
<div id="pivot_charts"></div>

<script>
    var data = JSON.parse("{{data|escapejs}}");
    var pivot = new Flexmonster({
    container: "#pivot",
    componentFolder: "https://cdn.flexmonster.com/",
    height: 600,
    toolbar: true,
    report: {"dataSource": {
            "data":data
        },
        "slice": {
        "rows": [
            {
                "uniqueName": "Category"
            }
        ],
        "columns": [
            {
                "uniqueName": "[Measures]"
            }
        ],
        "measures": [
            {
                "uniqueName": "Alcohol",
                "aggregation": "sum"
            },
            {
                "uniqueName": "Rating",
                "aggregation": "sum"
            }
        ]
    }}
});
var pivot_charts = new Flexmonster({
    container: "#pivot_charts",
    componentFolder: "https://cdn.flexmonster.com/",
    height: 600,
    toolbar: true,
    report: {}
});
</script>
{% endblock %}
